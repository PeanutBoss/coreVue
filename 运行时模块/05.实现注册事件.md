### 实现注册事件

组件的props通过 setAttribute 设置，如果遇到以 on 开头的属性则以事件处理，通过 addEventListener 绑定

```typescript
function mountElement(vNode, container) {
  // $el：这里的虚拟节点是element类型的，也就是App中的根元素div；return instance.vNode.el中的虚拟节点是组件实例对象的虚拟节点
  // 创建对应的DOM，同时绑定到虚拟DOM上
  const el = vNode.el = document.createElement(vNode.type)
  const { children, shapeFlag } = vNode
  // 处理子节点 - 如果是string类型直接赋值给DOM元素的textContent属性
  if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {
    el.textContent = children
  } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {
    // 如果是数组类型（说明有多个子元素），调用patch递归处理子节点
    mountChildren(vNode, el)
  }
  
  // 处理vNode对应的属性
  for (const key in vNode.props) {
    const val = vNode.props[key]
    // 以 on 开头的属性以事件来处理
    const isOn = (key: string) => /^on[A-Z]/.test(key)
    if (isOn(key)) {
      const event = key.slice(2).toLowerCase()
      el.addEventListener(event, val)
    } else {
      el.setAttribute(key, val)
    }
  }
  
  // 将DOM添加到对应容器中
  container.appendChild(el)
}
```

